{% extends "base.html" %}

{% block title %}Publicaciones{% endblock %}
{% block h1 %}Publicaciones{% endblock %}
{% block subtitle %}Listado din√°mico desde QuerySet + control + filtros{% endblock %}

{% block content %}
  <div class="row g-3">
    {% if items %}
      {% for p in items %}
        <div class="col-12 col-md-6 col-lg-4">
          <div class="card shadow-soft h-100">
            <div class="card-body">
              <div class="small text-muted mb-1">{{ p.creado_en|date:"d M Y H:i" }}</div>
              <h2 class="h6 mb-2">{{ p.titulo|upper }}</h2>
              <p class="text-muted mb-3">{{ p.resumen|truncatewords:18 }}</p>

              <a class="btn btn-sm btn-primary" href="{% url 'aplicacion1:publicacion_detalle' p.id %}">
                Ver detalle
              </a>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div class="col-12">
        <div class="alert alert-warning mb-0">No hay publicaciones disponibles.</div>
      </div>
    {% endif %}
  </div>
{% endblock %}